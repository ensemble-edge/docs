---
title: "Health Check API"
description: "Monitor system health and service status"
api: "GET https://your-worker.workers.dev/health"
---

## Overview

The Health Check API provides endpoints to monitor the health and readiness of your Conductor instance, check service dependencies, and retrieve system metrics.

## GET /health

Check basic system health.

<ParamField query="details" type="boolean" default="false">
  Include detailed health information
</ParamField>

<ParamField query="timeout" type="number" default="5000">
  Health check timeout in milliseconds
</ParamField>

### Response

<ResponseField name="status" type="string" required>
  Health status: `healthy`, `degraded`, `unhealthy`
</ResponseField>

<ResponseField name="timestamp" type="number" required>
  Unix timestamp of health check
</ResponseField>

<ResponseField name="uptime" type="number" required>
  System uptime in milliseconds
</ResponseField>

<ResponseField name="version" type="string" required>
  Conductor version
</ResponseField>

<ResponseField name="services" type="object">
  Service-specific health status (when `details=true`)

  <ResponseField name="services.database" type="object">
    <ResponseField name="services.database.status" type="string">
      Database health: `up`, `down`, `degraded`
    </ResponseField>
    <ResponseField name="services.database.latency" type="number">
      Database response time in ms
    </ResponseField>
  </ResponseField>

  <ResponseField name="services.ai" type="object">
    <ResponseField name="services.ai.status" type="string">
      AI services health: `up`, `down`, `degraded`
    </ResponseField>
    <ResponseField name="services.ai.providers" type="array">
      Available AI provider statuses
    </ResponseField>
  </ResponseField>

  <ResponseField name="services.storage" type="object">
    <ResponseField name="services.storage.status" type="string">
      Storage health: `up`, `down`, `degraded`
    </ResponseField>
    <ResponseField name="services.storage.types" type="array">
      Available storage types (KV, R2, D1)
    </ResponseField>
  </ResponseField>
</ResponseField>

<RequestExample>

```bash cURL
curl https://your-worker.workers.dev/health
```

```bash cURL (Detailed)
curl https://your-worker.workers.dev/health?details=true
```

```typescript TypeScript
const response = await fetch('https://your-worker.workers.dev/health', {
  method: 'GET'
});

const health = await response.json();
console.log(health.status); // 'healthy'
```

```python Python
import requests

response = requests.get('https://your-worker.workers.dev/health')
health = response.json()
print(health['status'])  # 'healthy'
```

</RequestExample>

<ResponseExample>

```json Basic Response
{
  "status": "healthy",
  "timestamp": 1704067200000,
  "uptime": 3600000,
  "version": "1.0.0"
}
```

```json Detailed Response
{
  "status": "healthy",
  "timestamp": 1704067200000,
  "uptime": 3600000,
  "version": "1.0.0",
  "services": {
    "database": {
      "status": "up",
      "latency": 12
    },
    "ai": {
      "status": "up",
      "providers": [
        { "name": "cloudflare", "status": "up" },
        { "name": "openai", "status": "up" }
      ]
    },
    "storage": {
      "status": "up",
      "types": ["kv", "r2", "d1"]
    }
  }
}
```

```json Degraded Response
{
  "status": "degraded",
  "timestamp": 1704067200000,
  "uptime": 3600000,
  "version": "1.0.0",
  "services": {
    "database": {
      "status": "up",
      "latency": 12
    },
    "ai": {
      "status": "degraded",
      "providers": [
        { "name": "cloudflare", "status": "up" },
        { "name": "openai", "status": "down" }
      ]
    },
    "storage": {
      "status": "up",
      "types": ["kv", "r2", "d1"]
    }
  }
}
```

</ResponseExample>

---

## GET /health/live

Liveness probe - check if service is running.

### Response

<ResponseField name="alive" type="boolean" required>
  Always `true` if service responds
</ResponseField>

<ResponseField name="timestamp" type="number" required>
  Unix timestamp
</ResponseField>

<RequestExample>

```bash cURL
curl https://your-worker.workers.dev/health/live
```

```typescript TypeScript
const response = await fetch('https://your-worker.workers.dev/health/live');
const { alive } = await response.json();
```

</RequestExample>

<ResponseExample>

```json
{
  "alive": true,
  "timestamp": 1704067200000
}
```

</ResponseExample>

---

## GET /health/ready

Readiness probe - check if service can handle requests.

**Response**: `200 OK` or `503 Service Unavailable`

<ResponseField name="ready" type="boolean" required>
  `true` if ready to handle requests
</ResponseField>

<ResponseField name="timestamp" type="number" required>
  Unix timestamp
</ResponseField>

<ResponseField name="checks" type="object">
  Detailed readiness checks

  <ResponseField name="checks.database" type="boolean">
    Database connectivity
  </ResponseField>

  <ResponseField name="checks.ai" type="boolean">
    AI services availability
  </ResponseField>

  <ResponseField name="checks.storage" type="boolean">
    Storage services availability
  </ResponseField>
</ResponseField>

<RequestExample>

```bash cURL
curl https://your-worker.workers.dev/health/ready
```

```typescript TypeScript
const response = await fetch('https://your-worker.workers.dev/health/ready');

if (response.ok) {
  const { ready } = await response.json();
  console.log('Service is ready:', ready);
} else {
  console.log('Service not ready');
}
```

</RequestExample>

<ResponseExample>

```json Ready (200 OK)
{
  "ready": true,
  "timestamp": 1704067200000,
  "checks": {
    "database": true,
    "ai": true,
    "storage": true
  }
}
```

```json Not Ready (503)
{
  "ready": false,
  "timestamp": 1704067200000,
  "checks": {
    "database": true,
    "ai": false,
    "storage": true
  }
}
```

</ResponseExample>

---

## GET /health/metrics

Get system performance metrics.

<ParamField query="period" type="string" default="1h">
  Time period: `1m`, `5m`, `15m`, `1h`, `24h`
</ParamField>

### Response

<ResponseField name="period" type="string" required>
  Time period covered by metrics
</ResponseField>

<ResponseField name="timestamp" type="number" required>
  Unix timestamp
</ResponseField>

<ResponseField name="executions" type="object" required>
  Execution metrics

  <ResponseField name="executions.total" type="number">
    Total executions in period
  </ResponseField>

  <ResponseField name="executions.successful" type="number">
    Successful executions
  </ResponseField>

  <ResponseField name="executions.failed" type="number">
    Failed executions
  </ResponseField>

  <ResponseField name="executions.avgDuration" type="number">
    Average execution duration (ms)
  </ResponseField>
</ResponseField>

<ResponseField name="members" type="object">
  Member usage statistics

  <ResponseField name="members.total" type="number">
    Total member executions
  </ResponseField>

  <ResponseField name="members.byType" type="object">
    Executions by member type
  </ResponseField>
</ResponseField>

<ResponseField name="errors" type="object">
  Error statistics

  <ResponseField name="errors.total" type="number">
    Total errors
  </ResponseField>

  <ResponseField name="errors.byCode" type="object">
    Errors grouped by error code
  </ResponseField>
</ResponseField>

<ResponseField name="resources" type="object">
  Resource usage

  <ResponseField name="resources.cpu" type="number">
    CPU time used (ms)
  </ResponseField>

  <ResponseField name="resources.memory" type="number">
    Memory used (bytes)
  </ResponseField>
</ResponseField>

<RequestExample>

```bash cURL
curl https://your-worker.workers.dev/health/metrics
```

```bash cURL (Last 24 hours)
curl https://your-worker.workers.dev/health/metrics?period=24h
```

```typescript TypeScript
const response = await fetch(
  'https://your-worker.workers.dev/health/metrics?period=1h'
);

const metrics = await response.json();
console.log(`Executions: ${metrics.executions.total}`);
console.log(`Success Rate: ${metrics.executions.successful / metrics.executions.total * 100}%`);
```

</RequestExample>

<ResponseExample>

```json
{
  "period": "1h",
  "timestamp": 1704067200000,
  "executions": {
    "total": 1250,
    "successful": 1180,
    "failed": 70,
    "avgDuration": 234
  },
  "members": {
    "total": 5420,
    "byType": {
      "Think": 2100,
      "Function": 1800,
      "Data": 980,
      "API": 540
    }
  },
  "errors": {
    "total": 70,
    "byCode": {
      "TIMEOUT": 25,
      "VALIDATION_ERROR": 30,
      "NETWORK_ERROR": 15
    }
  },
  "resources": {
    "cpu": 125000,
    "memory": 52428800
  }
}
```

</ResponseExample>

## Kubernetes Probes

Use health endpoints in Kubernetes deployments:

```yaml
apiVersion: apps/v1
kind: Deployment
metadata:
  name: conductor
spec:
  template:
    spec:
      containers:
      - name: conductor
        image: conductor:latest
        livenessProbe:
          httpGet:
            path: /health/live
            port: 8080
          initialDelaySeconds: 10
          periodSeconds: 30
        readinessProbe:
          httpGet:
            path: /health/ready
            port: 8080
          initialDelaySeconds: 5
          periodSeconds: 10
```

## Health Check Best Practices

1. **Use liveness probes** - Detect when service needs restart
2. **Use readiness probes** - Prevent traffic to unready instances
3. **Monitor metrics** - Track performance over time
4. **Set appropriate timeouts** - Balance responsiveness vs accuracy
5. **Check dependencies** - Verify database, AI, storage health
6. **Use detailed checks in staging** - Get full diagnostics
7. **Use basic checks in production** - Minimize overhead
8. **Alert on degraded status** - Catch issues early
9. **Log health events** - Debug health issues
10. **Test health endpoints** - Ensure probes work correctly

## Error Responses

### Service Unavailable

```json
{
  "status": "unhealthy",
  "timestamp": 1704067200000,
  "error": "Database connection failed",
  "services": {
    "database": {
      "status": "down",
      "error": "Connection timeout"
    }
  }
}
```

### Timeout

```json
{
  "error": "Health check timeout",
  "timeout": 5000,
  "timestamp": 1704067200000
}
```

## Related Documentation

<CardGroup cols={2}>
  <Card
    title="Monitoring Guide"
    icon="chart-line"
    href="/conductor/guides/monitoring"
  >
    Monitor Conductor workflows
  </Card>

  <Card
    title="Deployment"
    icon="rocket"
    href="/conductor/guides/deployment"
  >
    Deploy Conductor to production
  </Card>

  <Card
    title="Error Handling"
    icon="triangle-exclamation"
    href="/conductor/guides/error-handling"
  >
    Handle errors gracefully
  </Card>

  <Card
    title="HTTP API Overview"
    icon="globe"
    href="/conductor-api/http/overview"
  >
    HTTP API reference
  </Card>
</CardGroup>
