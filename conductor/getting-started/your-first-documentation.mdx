---
title: Your First Documentation
description: Set up API documentation using Conductor's docs/ directory
---

**Estimated Time:** 10-15 minutes
**Prerequisites:** Working Conductor project

## What You'll Learn

By the end of this guide, you'll understand how to:

- ğŸ“– Create a `docs/` directory with auto-generated API documentation
- âœï¸ Write markdown documentation pages with frontmatter
- ğŸ¨ Customize branding, themes, and navigation
- ğŸ” Control documentation access (public, authenticated, admin)
- ğŸ”„ Use Handlebars templating for dynamic content

## Understanding Documentation in Conductor

The `docs/` directory is a **first-class component directory** in Conductor, just like `agents/` and `ensembles/`. It provides:

- **Auto-generated OpenAPI docs** from your agents and ensembles
- **Markdown pages** with YAML frontmatter for custom documentation
- **Multiple UI frameworks** (Stoplight, Redoc, Swagger, Scalar, RapiDoc)
- **Built-in navigation** with auto-discovery and manual ordering

```
your-project/
â”œâ”€â”€ docs/                    # First-class docs directory
â”‚   â”œâ”€â”€ docs.yaml            # Configuration (required)
â”‚   â”œâ”€â”€ getting-started.md   # Custom page
â”‚   â””â”€â”€ authentication.md    # Another page
â”œâ”€â”€ agents/                  # Your agents
â”œâ”€â”€ ensembles/               # Your ensembles
â””â”€â”€ conductor.config.ts
```

## Step 1: Create the docs/ Directory

### Initialize Your Docs

Create the docs directory with a configuration file:

```bash
mkdir -p docs
```

Create `docs/docs.yaml`:

```yaml
# docs/docs.yaml
name: docs
description: API Documentation

route:
  path: /docs
  auth:
    requirement: public

title: My API Documentation
ui: stoplight

theme:
  primaryColor: '#3B82F6'
  darkMode: false
```

### Test It Works

Start your dev server:

```bash
pnpm run dev
```

Visit the documentation:

```bash
curl http://localhost:8787/docs

# Or open in browser:
open http://localhost:8787/docs
```

<Note>
You should see auto-generated documentation of your API endpoints!
</Note>

## Step 2: Add Documentation Pages

### Create a Getting Started Page

Create `docs/getting-started.md`:

```markdown
---
title: Getting Started
description: Quick start guide for the API
order: 1
icon: ğŸš€
---

# Getting Started

Welcome to our API! This guide will help you make your first call.

## Base URL

```
Production: https://api.example.com
Development: http://localhost:8787
```

## Quick Start

### 1. Get Your API Key

Sign up and generate your API key from the dashboard.

### 2. Make Your First Request

```bash
curl -X GET https://api.example.com/v1/users \
  -H "Authorization: Bearer YOUR_API_KEY"
```

### 3. Handle the Response

```json
{
  "success": true,
  "data": [
    { "id": 1, "name": "Alice" },
    { "id": 2, "name": "Bob" }
  ]
}
```
```

### Create an Authentication Page

Create `docs/authentication.md`:

```markdown
---
title: Authentication
description: How to authenticate with the API
order: 2
icon: ğŸ”
---

# Authentication

All API requests require authentication via Bearer token.

## Getting a Token

1. Sign up at our dashboard
2. Navigate to API Settings
3. Generate a new API key

## Using the Token

Include your token in the Authorization header:

```bash
curl -H "Authorization: Bearer YOUR_TOKEN" \
  https://api.example.com/v1/endpoint
```

## Token Expiration

Tokens expire after 30 days. Refresh them via the dashboard.
```

### Frontmatter Options

Each markdown file can have YAML frontmatter:

| Field | Type | Description |
|-------|------|-------------|
| `title` | string | Page title (shown in nav and header) |
| `description` | string | Page description (for SEO/preview) |
| `order` | number | Navigation order (lower = first) |
| `hidden` | boolean | Hide from navigation |
| `icon` | string | Icon for navigation (emoji or icon name) |
| `category` | string | Category for grouping |

## Step 3: Configure Navigation

### Simple Ordering

Update `docs/docs.yaml` to control page order:

```yaml
# docs/docs.yaml
name: docs
description: API Documentation

route:
  path: /docs
  auth:
    requirement: public

title: My API Documentation
ui: stoplight

nav:
  order:
    - getting-started    # First
    - authentication     # Second
    - guides/*           # All pages in guides/ folder
    - tutorials/**       # Nested pages recursively

  hide:
    - internal-notes     # Hide specific pages
    - drafts/*           # Hide entire folders
```

### Navigation Groups

Organize into collapsible sections:

```yaml
nav:
  groups:
    - title: Getting Started
      icon: ğŸš€
      items:
        - getting-started
        - quickstart
        - installation

    - title: Guides
      icon: ğŸ“–
      items:
        - guides/*

    - title: API Reference
      icon: ğŸ“š
      items:
        - api
        - agents
        - ensembles
      collapsed: true  # Collapsed by default
```

### Reserved Sections

Conductor auto-generates sections for your agents and ensembles:

```yaml
nav:
  showReserved:
    agents: true       # Auto-generated agents list
    ensembles: true    # Auto-generated ensembles list
    api: true          # OpenAPI reference

  reservedPosition: bottom  # top | bottom

  reservedLabels:
    agents: "AI Agents"
    ensembles: "Workflows"
    api: "API Reference"
```

## Step 4: Customize Appearance

### Theme Configuration

```yaml
# docs/docs.yaml
title: My API Documentation
description: Complete API reference

theme:
  primaryColor: '#1a73e8'  # Your brand color
  darkMode: true
  customCss: |
    body {
      font-family: 'Inter', sans-serif;
    }
    .sidebar {
      background: linear-gradient(180deg, #1a1a2e 0%, #16213e 100%);
    }
```

### Choose a UI Framework

```yaml
ui: stoplight  # Options: stoplight, redoc, swagger, scalar, rapidoc
```

| UI | Best For |
|-----|----------|
| `stoplight` | Modern, interactive docs (default) |
| `redoc` | Clean, mobile-friendly |
| `swagger` | Classic Swagger UI |
| `scalar` | Beautiful, customizable |
| `rapidoc` | Fast, lightweight |

### Add Logo and Favicon

```yaml
logo: /static/logo.svg
favicon: /static/favicon.ico
```

## Step 5: Control Access

### Public Documentation

```yaml
route:
  path: /docs
  auth:
    requirement: public  # Anyone can access
```

### Authenticated Documentation

```yaml
route:
  path: /docs
  auth:
    requirement: authenticated  # Must be logged in
```

### Admin-Only Documentation

```yaml
route:
  path: /docs/admin
  auth:
    requirement: admin  # Admin role required
```

### Multiple Documentation Sites

You can have different docs for different audiences by creating multiple config files or using `include`/`exclude`:

```yaml
# Public docs - filter to public endpoints only
route:
  path: /docs/public
  auth:
    requirement: public

include:
  - /api/v1/public/*

exclude:
  - /api/v1/internal/*
  - /admin/*
```

## Step 6: Use Handlebars Templating

### Dynamic Content

Your markdown pages support Handlebars:

```markdown
---
title: Welcome
---

# Welcome to {{projectName}}

Current version: **{{version}}**

{{#if showBetaFeatures}}
## Beta Features

Check out our new beta features!
{{/if}}

{{#each endpoints}}
- **{{this.name}}**: {{this.description}}
{{/each}}
```

### Variables

Variables come from your configuration and context:

```yaml
# docs/docs.yaml
variables:
  projectName: MyApp
  version: 2.0.0
  showBetaFeatures: true
```

## Step 7: Enable Caching

For better performance in production:

```yaml
cache:
  enabled: true
  ttl: 300  # 5 minutes
```

Requires a KV binding in `wrangler.toml`:

```toml
[[kv_namespaces]]
binding = "DOCS_CACHE"
id = "your-kv-namespace-id"
```

## Step 8: Add AI Enhancement (Optional)

Use AI to improve documentation descriptions:

```yaml
ai:
  enabled: true
  model: '@cf/meta/llama-3.1-8b-instruct'
  provider: cloudflare
  temperature: 0.3
```

Ensure Workers AI is bound in `wrangler.toml`:

```toml
[ai]
binding = "AI"
```

## Complete Example

Here's a full `docs/docs.yaml`:

```yaml
name: docs
description: Complete API Documentation

route:
  path: /docs
  auth:
    requirement: public
  priority: 50

title: MyApp API Documentation
ui: scalar

theme:
  primaryColor: '#1a73e8'
  darkMode: true

nav:
  groups:
    - title: Getting Started
      icon: ğŸš€
      items:
        - getting-started
        - authentication
        - quickstart

    - title: Guides
      icon: ğŸ“–
      items:
        - guides/*

    - title: Reference
      icon: ğŸ“š
      items:
        - api
        - agents
        - ensembles

  hide:
    - internal-notes
    - drafts/*

  showReserved:
    agents: true
    ensembles: true
    api: true
  reservedPosition: bottom

servers:
  - url: https://api.myapp.com/v1
    description: Production
  - url: http://localhost:8787
    description: Development

cache:
  enabled: true
  ttl: 600

ai:
  enabled: true
  model: '@cf/meta/llama-3.1-8b-instruct'
```

## Accessing Your Documentation

```bash
# Interactive HTML documentation
GET /docs

# Specific pages
GET /docs/getting-started
GET /docs/authentication

# OpenAPI specification
GET /docs/openapi.yaml
GET /docs/openapi.json

# Auto-generated sections
GET /docs/agents
GET /docs/ensembles
GET /docs/api
```

## Directory Structure

A well-organized docs directory:

```
docs/
â”œâ”€â”€ docs.yaml              # Configuration
â”œâ”€â”€ getting-started.md     # Entry point
â”œâ”€â”€ authentication.md      # Auth guide
â”œâ”€â”€ guides/
â”‚   â”œâ”€â”€ quickstart.md
â”‚   â”œâ”€â”€ advanced.md
â”‚   â””â”€â”€ best-practices.md
â”œâ”€â”€ reference/
â”‚   â”œâ”€â”€ errors.md
â”‚   â””â”€â”€ rate-limits.md
â””â”€â”€ tutorials/
    â””â”€â”€ first-integration.md
```

## Troubleshooting

<AccordionGroup>
<Accordion title="Docs Not Showing">
**Problem:** `/docs` returns 404

**Solutions:**
1. Verify `docs/docs.yaml` exists
2. Check the route path matches your URL
3. Rebuild and restart:
   ```bash
   pnpm run build && pnpm run dev
   ```
4. Check logs for errors:
   ```bash
   npx wrangler tail
   ```
</Accordion>

<Accordion title="Pages Not Appearing">
**Problem:** Markdown pages not showing in navigation

**Solutions:**
1. Check frontmatter syntax (must start with `---`)
2. Verify file extension is `.md`
3. Check `nav.hide` doesn't exclude the page
4. Ensure `hidden: true` isn't set in frontmatter
</Accordion>

<Accordion title="Authentication Issues">
**Problem:** Can't access authenticated docs

**Solutions:**
1. Verify auth configuration in `docs.yaml`
2. Test with correct headers:
   ```bash
   curl -H "Authorization: Bearer TOKEN" \
     http://localhost:8787/docs
   ```
3. Check auth middleware is configured in `conductor.config.ts`
</Accordion>

<Accordion title="Styling Not Applied">
**Problem:** Theme colors not showing

**Solutions:**
1. Verify `theme` section in `docs.yaml`
2. Check hex colors include `#` prefix
3. Clear browser cache
4. Check `customCss` syntax is valid
</Accordion>
</AccordionGroup>

## Best Practices

### Documentation

âœ… **Do:**
- Keep pages focused and scannable
- Include code examples for every endpoint
- Use frontmatter for consistent metadata
- Version your documentation with your API

âŒ **Don't:**
- Write walls of text without headings
- Skip authentication documentation
- Include internal endpoints in public docs
- Forget to update docs when API changes

### Security

âœ… **Do:**
- Separate public and internal documentation
- Use authentication for sensitive endpoints
- Sanitize examples (remove real API keys)
- Review docs for leaked credentials

âŒ **Don't:**
- Expose admin endpoints publicly
- Include real tokens in examples
- Skip auth on sensitive documentation

### Performance

âœ… **Do:**
- Enable caching in production
- Keep custom CSS minimal
- Use CDN for static assets

âŒ **Don't:**
- Generate docs on every request
- Include massive images without optimization

## Summary

You've learned how to:

- âœ… Create a `docs/` directory with `docs.yaml`
- âœ… Write markdown pages with frontmatter
- âœ… Configure navigation with ordering and groups
- âœ… Customize themes and branding
- âœ… Control access with authentication
- âœ… Use Handlebars for dynamic content

<Tip>
The `docs/` directory is a first-class component in Conductor - just add your YAML config and markdown files, and documentation is automatically served!
</Tip>

## Next Steps

<CardGroup cols={2}>
  <Card title="Documentation Reference" href="/conductor/building/documentation">
    Complete configuration options
  </Card>

  <Card title="Your First Agent" href="/conductor/getting-started/your-first-agent">
    Create AI-powered agents
  </Card>

  <Card title="Your First Ensemble" href="/conductor/getting-started/your-first-ensemble">
    Orchestrate multi-agent workflows
  </Card>

  <Card title="Authentication" href="/conductor/core-concepts/authentication">
    Secure your APIs and documentation
  </Card>
</CardGroup>
