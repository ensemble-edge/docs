---
title: "page Operation"
description: "Build server-rendered pages with Hono routing and Conductor operations"
---

## Pages Overview

Pages uses **Hono** for routing and integrates with the **global OperationRegistry** to enable any Conductor operation in your pages.

## Basic Page

```yaml
name: home
operation: page
templateEngine: liquid  # or handlebars, simple

component: |
  <h1>Welcome to Conductor</h1>
  <p>Fast, edge-native orchestration</p>
```

## Configuration

```yaml
name: string              # Page name
operation: page           # Required
templateEngine: string    # handlebars, liquid, or simple
component: string         # HTML template with variables

route:                    # Optional routing config
  path: string           # URL path (e.g., /blog/:slug)
  methods: array         # HTTP methods [GET, POST, PUT, DELETE]
  auth: string           # none, required, optional
  rateLimit:             # Optional rate limiting
    requests: number
    window: number       # seconds
  cors:                  # Optional CORS config
    origin: string
    methods: array

beforeRender:            # Optional operations before rendering
  - name: string
    operation: string    # Any plugin operation
    config: object

responses:               # Optional response config
  html:
    enabled: boolean
  json:
    enabled: boolean
```

## Examples

### Static Page

```yaml
name: about
operation: page
templateEngine: handlebars

component: |
  <h1>About Us</h1>
  <p>We build edge-native AI workflows</p>
```

### Dynamic Page with Conductor Operations

```yaml
name: blog-post
operation: page
templateEngine: liquid

route:
  path: /blog/:slug
  methods: [GET]

beforeRender:
  # Use any Conductor operation (from plugins or built-in)
  - name: fetch-post
    operation: payload:findById
    config:
      collection: posts
      id: "${params.slug}"
      depth: 2

  # Multiple operations can be chained
  - name: fetch-related
    operation: payload:find
    config:
      collection: posts
      where:
        category: "${fetch-post.category.slug}"
        status: published
      limit: 3

component: |
  <article>
    <h1>{{ fetch-post.title }}</h1>
    <div class="content">
      {{ fetch-post.content }}
    </div>

    <aside>
      <h3>Related Posts</h3>
      {% for post in fetch-related.docs %}
        <a href="/blog/{{ post.slug }}">{{ post.title }}</a>
      {% endfor %}
    </aside>
  </article>
```

### API Endpoint (JSON Response)

```yaml
name: api-users
operation: page

route:
  path: /api/users/:id
  methods: [GET, PUT, DELETE]
  auth: required
  rateLimit:
    requests: 10
    window: 60

responses:
  json:
    enabled: true

beforeRender:
  - name: fetch-user
    operation: payload:findById
    config:
      collection: users
      id: "${params.id}"

component: ""  # No HTML needed for API
```

## Template Engines

Pages supports three template engines (same as Email/SMS for consistency):

### Handlebars
```yaml
templateEngine: handlebars
component: |
  <h1>{{title}}</h1>
  <p>{{description}}</p>
```

### Liquid (Default)
```yaml
templateEngine: liquid
component: |
  <h1>{{ title }}</h1>
  <p>{{ description }}</p>
```

### Simple
```yaml
templateEngine: simple
component: |
  <h1>{{title}}</h1>
  <p>{{description}}</p>
```

## Hono Middleware

Pages are built on Hono, giving you access to the full Hono middleware ecosystem:

```typescript
import { Hono } from 'hono'
import { cors } from 'hono/cors'
import { compress } from 'hono/compress'
import { logger } from 'hono/logger'
import { PageLoader } from '@ensemble-edge/conductor'

const app = new Hono()

// Add Hono middleware globally
app.use('*', logger())
app.use('*', cors())
app.use('*', compress())

// Load Conductor pages
const pageLoader = new PageLoader(app)
await pageLoader.discoverPages(pagesMap)

export default app
```

**Available Hono middleware:**
- **CORS** - Cross-origin resource sharing
- **JWT** - Authentication with JSON Web Tokens
- **Compression** - Gzip/Brotli response compression
- **Logger** - Request/response logging
- **Rate limiting** - Request throttling
- **Cache** - HTTP caching headers
- **Basic Auth** - Simple username/password auth
- **Bearer Auth** - Token-based authentication
- **Timing** - Server-Timing header
- And many more from the [Hono ecosystem](https://hono.dev/middleware/builtin/basic-auth)

## Next Steps

<CardGroup cols={2}>
  <Card title="Plugins" icon="plug" href="/conductor/plugins/overview">
    Available Conductor operations
  </Card>
  <Card title="Operations Overview" icon="bolt" href="/conductor/operations/overview">
    All operations
  </Card>
</CardGroup>
