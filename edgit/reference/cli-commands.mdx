---
title: "CLI Commands"
description: "Complete Edgit command reference with examples"
---

## Getting Started

No installation needed - use `npx` to run Edgit:

```bash
# Via Ensemble CLI (recommended)
npx @ensemble-edge/ensemble edgit init
npx @ensemble-edge/ensemble edgit tag create my-prompt v1.0.0

# Or direct
npx @ensemble-edge/edgit init
edgit tag create my-prompt v1.0.0

# Or if edgit is installed
edgit init
edgit tag create my-prompt v1.0.0
```

<Note>
For CI/CD pipelines, use `npx @ensemble-edge/edgit init -y` to skip interactive prompts.
</Note>

## Global

### `edgit --version`

Show Edgit version:

```bash
edgit --version
# Output: edgit v0.4.4
```

<Tip>
For a landscape view showing all Ensemble projects with update status, use `ensemble --version`. To upgrade Edgit across multiple projects, use `ensemble upgrade`. See [Ensemble CLI](/introduction/ensemble-cli#checking-for-updates-landscape-view) for details.
</Tip>

### `edgit --help`

Show help:

```bash
edgit --help
edgit <command> --help  # Help for specific command
```

## Info

### `ensemble edgit info`

View comprehensive Edgit project info including initialization state, tracked components, recent versions, and deployments:

```bash
ensemble edgit info [options]
```

**Options:**

| Option | Description |
|--------|-------------|
| `--json` | Output as JSON (for CI/scripting) |
| `--compact` | Compact single-line format |

**Example Output (Full):**

```
‚îå‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îê
‚îÇ ‚úì üì¶ Edgit Info             ‚îÇ
‚îÇ                             ‚îÇ
‚îÇ Semantic versioning for     ‚îÇ
‚îÇ AI components               ‚îÇ
‚îî‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îò

Repository
  Git Repo:         ‚úì Initialized
  Edgit:            ‚úì Initialized
  Components:       12 tracked (3 untracked)

Recent Versions (5 of 24 total)
  prompts/extraction-prompt/v1.2.0    2024-11-15
  configs/api-config/v2.0.1           2024-11-14
  ensembles/data-pipeline/v1.0.0      2024-11-12
  agents/scraper/v3.1.0               2024-11-10
  prompts/analysis-prompt/v1.0.0      2024-11-08

Deployments
  extraction-prompt    prod: v1.2.0    staging: v1.1.0
  api-config           prod: v2.0.1    staging: v2.0.1
  data-pipeline        prod: v1.0.0    staging: v1.0.0

Docs: https://docs.ensemble.ai/edgit
```

**Example Output (Compact):**

```bash
ensemble edgit info --compact
```

```
üì¶ Edgit Info

Git:         ‚úì Initialized
Edgit:       ‚úì Initialized
Components:  12 tracked
Versions:    24 total
```

**Example Output (JSON):**

```bash
ensemble edgit info --json
```

```json
{
  "gitRepo": true,
  "initialized": true,
  "components": {
    "tracked": 12,
    "untracked": 3
  },
  "versions": {
    "total": 24,
    "recent": [
      {
        "tag": "prompts/extraction-prompt/v1.2.0",
        "date": "2024-11-15"
      },
      {
        "tag": "configs/api-config/v2.0.1",
        "date": "2024-11-14"
      }
    ]
  },
  "deployments": [
    {
      "component": "extraction-prompt",
      "prod": "v1.2.0",
      "staging": "v1.1.0"
    }
  ]
}
```

<Note>
**Command Naming:** The official command is `info`. Using `ensemble edgit status` will pass through to `git status` since Edgit is git-native. Use `info` for Edgit project information.
</Note>

### `edgit info` (Direct CLI)

You can also run the info command directly via the Edgit CLI:

```bash
npx @ensemble-edge/edgit info [options]
# or
edgit info [options]
```

<Note>
The info command provides the same data whether called via Ensemble CLI or directly. The Ensemble CLI adds visual styling (banners, colors, boxes) for a richer experience.
</Note>

## Initialization

### `edgit init`

Initialize Edgit in your repository:

```bash
edgit init
```

Creates:
- `.edgit/components.json` - Component registry
- Initial directory structure

**Requirements:** Must be in a Git repository

## Component Registry

### `edgit components add`

Register a component:

```bash
edgit components add <type> <name> <path> [options]
```

**Arguments:**
- `type` - Component type (prompt, config, query, script, template, docs, agent, ensemble, tool, schema)
- `name` - Unique component name
- `path` - File path relative to repo root

**Options:**
- `--description` - Human-readable description
- `--type=agent` - Register as agent (for agent implementations)
- `--type=ensemble` - Register as ensemble (for workflow definitions)

**Examples:**

```bash
# Register prompt
edgit components add prompt extraction-prompt components/prompts/extraction.md

# Register config
edgit components add config api-config components/configs/api.json

# Register query
edgit components add query analytics-query components/queries/analytics.sql

# Register script
edgit components add script transform components/scripts/transform.ts

# Register template
edgit components add template header components/templates/header.html

# Register docs
edgit components add docs getting-started components/docs/getting-started.md

# Register agent
edgit components add agent scraper agents/scraper/ --type=agent

# Register TypeScript ensemble
edgit components add ensemble data-pipeline ensembles/data-pipeline.ts

# Register YAML ensemble
edgit components add ensemble scraping-workflow ensembles/scraping.yaml
```

### `edgit components list`

List all components:

```bash
edgit components list [options]
```

**Options:**
- `--format <type>` - Output format (tree, table, json, yaml)
- `--type <type>` - Filter by type
- `--untracked` - Show untracked components

**Examples:**

```bash
# Tree view (default)
edgit components list --format tree
# Output:
# extraction-prompt (prompt)
#  v1.0.0 [prod]
#  v0.9.0 [staging]
#  v0.1.0

# Table view
edgit components list --format table
# Output:
# Component          Type    Latest   Prod     Staging
# extraction-prompt  prompt  v1.0.0   v1.0.0   v0.9.0

# JSON (for scripts)
edgit components list --format json

# Filter by type
edgit components list --type prompt

# Filter by ensemble type
edgit components list --type ensemble

# Show untracked
edgit components list --untracked
```

### `edgit components remove`

Remove a component from registry:

```bash
edgit components remove <name>
```

**Note:** Doesn't delete files, just removes from registry

## Versioning

### Type-Specific Tag Namespaces

Edgit uses type-specific namespaces for Git tags. Each component type gets its own namespace:

| Component Type | Tag Namespace | Example Tag |
|----------------|---------------|-------------|
| `prompt` | `prompts/` | `prompts/extraction-prompt/v1.0.0` |
| `schema` | `schemas/` | `schemas/user-schema/v1.0.0` |
| `config` | `configs/` | `configs/api-config/v1.0.0` |
| `script` | `scripts/` | `scripts/transform/v1.0.0` |
| `query` | `queries/` | `queries/analytics-query/v1.0.0` |
| `template` | `templates/` | `templates/email-header/v1.0.0` |
| `tool` | `tools/` | `tools/calculator/v1.0.0` |
| `agent` | `agents/` | `agents/scraper/v1.0.0` |
| `ensemble` | `ensembles/` | `ensembles/data-pipeline/v1.0.0` |

This allows components of different types to have the same name without conflicts.

### `edgit tag create`

Create a version tag:

```bash
edgit tag create <name> <version> [options]
```

**Arguments:**
- `name` - Component or agent name
- `version` - Semantic version (v{major}.{minor}.{patch})

**Options:**
- `--type=agent` - Tag an agent (default: component)
- `--type=ensemble` - Tag an ensemble
- `-m <message>` - Tag message
- `--force` - Overwrite existing tag

**Examples:**

```bash
# Version a component
edgit tag create extraction-prompt v1.0.0

# Version with message
edgit tag create extraction-prompt v1.0.0 -m "Initial stable release"

# Version an agent
edgit tag create scraper v1.5.0 --type=agent

# Version a TypeScript ensemble
edgit tag create data-pipeline v1.0.0 --type=ensemble

# Version with message
edgit tag create data-pipeline v2.0.0 --type=ensemble -m "Added parallel processing"

# Force overwrite
edgit tag create extraction-prompt v1.0.0 --force
```

### `edgit tag list`

List versions of a component or agent:

```bash
edgit tag list <name> [options]
```

**Options:**
- `--with-dates` - Include creation dates
- `--format <type>` - Output format (`text`, `json`). Default: `text`

**Examples:**

```bash
# List versions
edgit tag list extraction-prompt
# Output:
# v1.0.0
# v1.0.1
# v1.1.0

# With dates
edgit tag list extraction-prompt --with-dates
# Output:
# v1.0.0 (2024-10-15)
# v1.0.1 (2024-10-18)
# v1.1.0 (2024-10-25)

# JSON output (useful for scripting and CI/CD)
edgit tag list extraction-prompt --format json
# Output:
# {
#   "name": "extraction-prompt",
#   "type": "prompt",
#   "namespace": "prompts",
#   "versions": [
#     {"version": "v1.0.0", "date": "2024-10-15T10:30:00Z"},
#     {"version": "v1.0.1", "date": "2024-10-18T14:22:00Z"},
#     {"version": "v1.1.0", "date": "2024-10-25T09:15:00Z"}
#   ]
# }
```

### `edgit tag show`

Show details of a specific version:

```bash
edgit tag show <name>@<version> [options]
```

**Options:**
- `--format <type>` - Output format (`text`, `json`). Default: `text`

**Examples:**

```bash
# Show version details
edgit tag show extraction-prompt@v1.0.0
# Output:
# Tag: prompts/extraction-prompt/v1.0.0
# Date: 2024-10-15T10:30:00Z
# Author: John Doe <john@example.com>
# Message: Initial stable release

# JSON output (useful for CI/CD pipelines)
edgit tag show extraction-prompt@v1.0.0 --format json
# Output:
# {
#   "name": "extraction-prompt",
#   "version": "v1.0.0",
#   "type": "prompt",
#   "namespace": "prompts",
#   "tag": "prompts/extraction-prompt/v1.0.0",
#   "sha": "abc123...",
#   "date": "2024-10-15T10:30:00Z",
#   "author": "John Doe <john@example.com>",
#   "message": "Initial stable release"
# }
```

### `edgit tag delete`

Delete a version tag:

```bash
edgit tag delete <name> <version>
```

**Caution:** This deletes the Git tag. Use sparingly.

## Deployment

### `edgit deploy set`

Deploy a version to an environment:

```bash
edgit deploy set <name> <version> --to <environment> [options]
```

**Arguments:**
- `name` - Component or agent name
- `version` - Version to deploy
- `--to` - Target environment (prod, staging, dev, etc.)

**Options:**
- `--type=agent` - Deploy an agent
- `--type=ensemble` - Deploy an ensemble

**Examples:**

```bash
# Deploy to staging
edgit deploy set extraction-prompt v1.0.0 --to staging

# Deploy to production
edgit deploy set extraction-prompt v1.0.0 --to prod

# Deploy agent
edgit deploy set scraper v1.5.0 --to prod --type=agent

# Deploy TypeScript ensemble
edgit deploy set data-pipeline v1.0.0 --to prod --type=ensemble

# Deploy to custom environment
edgit deploy set extraction-prompt v1.0.0 --to canary
```

### `edgit deploy get`

Get deployed version for an environment:

```bash
edgit deploy get <name> --from <environment>
```

**Examples:**

```bash
# Get production version
edgit deploy get extraction-prompt --from prod
# Output: v1.0.0

# Get staging version
edgit deploy get extraction-prompt --from staging
# Output: v0.9.0
```

## Discovery

### `edgit discover scan`

Scan repository for components:

```bash
edgit discover scan [options]
```

**Options:**
- `--type <type>` - Filter by type (prompt, config, query, script, agent, ensemble)
- `--register` - Automatically register discovered components
- `--changed` - Only scan files changed since last commit (useful for CI/CD)
- `--since <ref>` - Git ref to compare against (default: HEAD~1). Use with --changed
- `--tracked-only` - Only scan git-tracked files
- `--output <format>` - Output format: table (default), json, simple

**Examples:**

```bash
# Scan for all components
edgit discover scan
# Output:
# Found 15 components:
# - components/prompts/extraction.md (prompt)
# - components/configs/api.json (config)
# - ensembles/data-pipeline.ts (ensemble)
# ...

# Scan for prompts only
edgit discover scan --type prompt

# Scan for TypeScript ensembles
edgit discover scan --type ensemble
# Found 5 ensemble files:
# - ensembles/data-pipeline.ts
# - ensembles/scraping-workflow.ts
# - ensembles/rag-pipeline.yaml

# Scan only changed files (for CI/CD)
edgit discover scan --changed
# Only scans files changed since HEAD~1

# Scan changes since a specific branch
edgit discover scan --changed --since main
# Only scans files changed since main branch

# Scan and register
edgit discover scan --register

# JSON output for scripting
edgit discover scan --changed --output json
```

### `edgit discover detect`

Detect component type of a file:

```bash
edgit discover detect <file>
```

**Examples:**

```bash
# Detect file type
edgit discover detect src/transform.ts
# Output:
# Type: script
# Confidence: 95%
# Suggested name: transform

# Detect TypeScript ensemble
edgit discover detect ensembles/data-pipeline.ts
# Output:
# Type: ensemble
# Confidence: 95%
# Suggested name: data-pipeline

# Get just the name
edgit discover detect src/transform.ts --name-only
# Output: transform
```

### `edgit discover patterns list`

List component detection patterns:

```bash
edgit discover patterns list [options]
```

**Options:**
- `--format <type>` - Output format (`text`, `json`). Default: `text`

**Examples:**

```bash
# List detection patterns
edgit discover patterns list
# Output:
# prompt: *.md in prompts/, components/prompts/
# config: *.json, *.yaml in configs/, components/configs/
# schema: *.json in schemas/, components/schemas/
# ...

# JSON output (useful for scripting and tooling)
edgit discover patterns list --format json
# Output:
# {
#   "patterns": [
#     {"type": "prompt", "extensions": [".md"], "directories": ["prompts/", "components/prompts/"]},
#     {"type": "config", "extensions": [".json", ".yaml"], "directories": ["configs/", "components/configs/"]},
#     {"type": "schema", "extensions": [".json"], "directories": ["schemas/", "components/schemas/"]},
#     ...
#   ]
# }
```

## History

### `edgit history`

View deployment history:

```bash
edgit history [name] [options]
```

**Options:**
- `--date <ISO8601>` - Show versions at specific date/time
- `--from <environment>` - Filter by environment
- `--format <type>` - Output format (text, json)

**Examples:**

```bash
# Component history
edgit history extraction-prompt
# Output:
# prod: v1.0.0 (deployed 2024-11-01 14:30)
# staging: v0.9.0 (deployed 2024-10-28 10:15)

# All components at specific time
edgit history --date="2024-11-05T14:47:00Z"
# Output:
# extraction-prompt: v1.0.5
# analysis-prompt: v1.9.2
# validation-config: v1.4.0

# JSON format
edgit history extraction-prompt --format json
```

## Git Pass-Through

**All `git` commands work with Edgit:**

```bash
# Standard git commands via edgit
edgit add .
edgit commit -m "message"
edgit push
edgit pull
edgit checkout -b feature
edgit merge main
edgit status
edgit log
edgit diff

# Edgit passes through to git
```

<Note>
For standard git operations, you can also use `git` directly. The pass-through is convenient when you're already working with edgit commands.
</Note>

## Version Helpers

### `edgit version bump`

Calculate next version:

```bash
edgit version bump <version> <level>
```

**Arguments:**
- `version` - Current version (v1.2.3)
- `level` - Bump level (major, minor, patch)

**Examples:**

```bash
edgit version bump v1.2.3 patch
# Output: v1.2.4

edgit version bump v1.2.3 minor
# Output: v1.3.0

edgit version bump v1.2.3 major
# Output: v2.0.0
```

## Environment Variables

Edgit respects these environment variables:

### `OPENAI_API_KEY`

OpenAI API key for AI-powered commit messages:

```bash
export OPENAI_API_KEY=sk-...
edgit commit  # AI generates message
```

### `EDGIT_REGISTRY_PATH`

Custom registry path (default: `.edgit/components.json`):

```bash
export EDGIT_REGISTRY_PATH=.custom/registry.json
```

### `EDGIT_AUTO_PUSH`

Automatically push tags after creating them:

```bash
export EDGIT_AUTO_PUSH=true
edgit tag create my-prompt v1.0.0  # Automatically pushes
```

## Exit Codes

- `0` - Success
- `1` - General error
- `2` - Invalid arguments
- `3` - Git repository not found
- `4` - Component not found
- `5` - Version already exists
- `6` - Version not found

## Common Workflows

### Register and Version

```bash
# 1. Register component
edgit components add prompt my-prompt components/prompts/my-prompt.md

# 2. Create version
edgit tag create my-prompt v1.0.0

# 3. Push tag
git push --tags
```

### Deploy Pipeline

```bash
# 1. Deploy to staging
edgit deploy set my-prompt v1.0.0 --to staging
git push --tags

# 2. Test in staging...

# 3. Promote to production
edgit deploy set my-prompt v1.0.0 --to prod
git push --tags
```

### Rollback

```bash
# 1. Check history
edgit history my-prompt

# 2. Rollback to previous
edgit deploy set my-prompt v0.9.0 --to prod
git push --tags
```

### Discovery

```bash
# 1. Scan for components
edgit discover scan

# 2. Register interesting ones
edgit components add prompt analysis-prompt components/prompts/analysis.md

# 3. Version them
edgit tag create analysis-prompt v1.0.0
```

## Tips

### Aliases

Add to your `.bashrc` or `.zshrc` for convenience:

```bash
alias edgit='npx @ensemble-edge/edgit'
alias et='edgit tag create'
alias ed='edgit deploy set'
```

### Auto-Completion

Generate completion script:

```bash
edgit completion bash > /etc/bash_completion.d/edgit  # Bash
edgit completion zsh > ~/.zsh/completion/_edgit       # Zsh
```

### Scripting

Use `--format json` for scripts:

```bash
#!/bin/bash
COMPONENTS=$(edgit components list --format json)
echo $COMPONENTS | jq '.[] | select(.type == "prompt") | .name'
```

## Next Steps

<CardGroup cols={2}>
  <Card title="Unified CLI" icon="terminal" href="/introduction/ensemble-cli">
    Full Ensemble CLI documentation
  </Card>

  <Card title="Basic Usage" icon="rocket" href="/edgit/getting-started/basic-usage">
    Essential commands and workflows
  </Card>

  <Card title="Versioning Guide" icon="tags" href="/edgit/guides/versioning-components-agents">
    Master versioning strategies
  </Card>

  <Card title="CI/CD Integration" icon="workflow" href="/edgit/getting-started/cicd-integration">
    Automate in your pipeline
  </Card>
</CardGroup>
