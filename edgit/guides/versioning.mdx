---
title: "Versioning Guide"
description: "Git tag-based semantic versioning strategies"
---

> **Product**: Edgit
> **Version**: v1.0.0
> **Last Updated**: 2025-11-05

## Overview

Edgit uses Git tags for component versioning. This approach eliminates version files, prevents merge conflicts, and leverages Git's native infrastructure.

## Semantic Versioning

Edgit follows semantic versioning (semver): `v{major}.{minor}.{patch}`

### Version Format

```
v1.2.3
│ │ │
│ │ └─ Patch: Bug fixes (backwards compatible)
│ └─── Minor: New features (backwards compatible)
└───── Major: Breaking changes
```

### Version Examples

```bash
v1.0.0  # Initial release
v1.0.1  # Bug fix
v1.1.0  # New feature (compatible)
v2.0.0  # Breaking change
```

## Creating Version Tags

### Basic Versioning

```bash
# Tag current HEAD
edgit tag create my-component v1.0.0

# Tag specific commit
edgit tag create my-component v1.0.0 abc123f

# Push to remote
git push origin components/my-component/v1.0.0
```

### Version Increment Rules

<Tabs>
  <Tab title="Patch (v1.0.x)">
    Bug fixes and minor changes:
    
    ```bash
    # v1.0.0 → v1.0.1
    edgit tag create my-component v1.0.1
    ```
    
    Examples:
    - Fix typos
    - Performance improvements
    - Security patches
  </Tab>

  <Tab title="Minor (v1.x.0)">
    New features (backwards compatible):
    
    ```bash
    # v1.0.1 → v1.1.0
    edgit tag create my-component v1.1.0
    ```
    
    Examples:
    - Add new function
    - Extend API
    - New optional parameters
  </Tab>

  <Tab title="Major (vx.0.0)">
    Breaking changes:
    
    ```bash
    # v1.1.0 → v2.0.0
    edgit tag create my-component v2.0.0
    ```
    
    Examples:
    - Remove functions
    - Change API signatures
    - Incompatible updates
  </Tab>
</Tabs>

## Git Tag Structure

### Tag Namespace

All component tags use the namespace: `components/{component}/{tag}`

```bash
components/
├── my-function/
│   ├── v1.0.0     # Version tag (immutable)
│   ├── v1.0.1     # Version tag (immutable)
│   ├── v1.1.0     # Version tag (immutable)
│   ├── staging    # Deployment tag (moveable)
│   └── production # Deployment tag (moveable)
└── my-agent/
    ├── v1.0.0
    └── production
```

### Version Tags vs Deployment Tags

<Tabs>
  <Tab title="Version Tags">
    **Immutable**: Never change once created
    
    ```bash
    # Create version tag
    edgit tag create my-component v1.0.0
    
    # Cannot be moved (will error)
    edgit tag create my-component v1.0.0  # Error!
    ```
    
    Format: `v{major}.{minor}.{patch}`
  </Tab>

  <Tab title="Deployment Tags">
    **Moveable**: Can point to different versions
    
    ```bash
    # Create/move deployment tag
    edgit tag create my-component production
    
    # Move to different version (OK)
    edgit deploy set my-component v2.0.0 --to production
    ```
    
    Common: `prod`, `staging`, `canary`, `dev`
  </Tab>
</Tabs>

## Versioning Workflows

### Single Component Workflow

```bash
# 1. Make changes
vim src/my-component.ts
edgit add src/my-component.ts
edgit commit -m "feat: add new feature"

# 2. Create version tag
edgit tag create my-component v1.1.0

# 3. Deploy to staging
edgit deploy set my-component v1.1.0 --to staging

# 4. Test, then promote to production
edgit deploy promote my-component --from staging --to production

# 5. Push tags
git push origin --tags --force
```

### Multi-Component Workflow

When changes affect multiple components:

```bash
# 1. Make changes
vim src/shared/utils.ts
vim src/auth.ts
vim src/payments.ts
edgit add .
edgit commit -m "refactor: optimize shared utilities"

# 2. Version affected components
edgit tag create auth v2.0.1
edgit tag create payments v1.5.1

# 3. Push all tags
git push origin --tags
```

## Version History

### View Component Versions

```bash
# List all versions
edgit tag list my-component

# Output:
# Versions: v1.0.0, v1.0.1, v1.1.0, v2.0.0
# Deployments: staging, production

# Show specific version details
edgit tag show my-component@v1.0.0
```

### Version Comparison

```bash
# Compare versions
git diff components/my-component/v1.0.0 components/my-component/v2.0.0

# Show changes in version
git show components/my-component/v2.0.0

# View commit history between versions
git log components/my-component/v1.0.0..components/my-component/v2.0.0
```

## Versioning Best Practices

<AccordionGroup>
  <Accordion icon="tag" title="Version Consistently">
    - Follow semver strictly
    - Version after every significant change
    - Don't skip versions
    - Tag from stable commits only
    - Document breaking changes
  </Accordion>

  <Accordion icon="clock" title="Version Timing">
    - Version before deployment
    - Tag after tests pass
    - Create versions on main branch
    - Don't version work-in-progress
    - Use feature branches for development
  </Accordion>

  <Accordion icon="book" title="Documentation">
    - Maintain CHANGELOG.md
    - Document breaking changes
    - Note deprecated features
    - Provide migration guides
    - Link versions to issues/PRs
  </Accordion>

  <Accordion icon="shield" title="Version Safety">
    - Never delete version tags
    - Never reuse version numbers
    - Don't force-push version tags
    - Keep version history intact
    - Archive old versions instead of deleting
  </Accordion>
</AccordionGroup>

## Advanced Patterns

### Pre-release Versions

```bash
# Alpha release
edgit tag create my-component v2.0.0-alpha.1

# Beta release
edgit tag create my-component v2.0.0-beta.1

# Release candidate
edgit tag create my-component v2.0.0-rc.1

# Final release
edgit tag create my-component v2.0.0
```

### Version Ranges

Document compatible version ranges:

```json .edgit/components.json
{
  "components": {
    "my-api": {
      "type": "function",
      "path": "src/api.ts",
      "compatibleWith": {
        "auth": "^2.0.0",
        "payments": ">=1.5.0 <2.0.0"
      }
    }
  }
}
```

## Version Migration

### Upgrade Path

Document version upgrade paths:

```markdown UPGRADE.md
# Upgrade Guide

## v1.x to v2.0

### Breaking Changes
- Function `oldAPI()` removed, use `newAPI()` instead
- Parameter order changed in `processPayment()`

### Migration Steps
1. Update function calls: `oldAPI()` → `newAPI()`
2. Reorder parameters in `processPayment()`
3. Test thoroughly
4. Deploy to staging first
```

## Next Steps

<CardGroup cols={2}>
  <Card
    title="Deployment Guide"
    icon="rocket"
    href="/edgit/guides/deployment"
  >
    Deploy versioned components
  </Card>

  <Card
    title="Component Types"
    icon="cube"
    href="/edgit/guides/component-types"
  >
    Type-specific versioning
  </Card>

  <Card
    title="CI/CD Integration"
    icon="gear"
    href="/edgit/examples/cicd-integration"
  >
    Automated versioning
  </Card>

  <Card
    title="Troubleshooting"
    icon="wrench"
    href="/edgit/guides/troubleshooting"
  >
    Common versioning issues
  </Card>
</CardGroup>
