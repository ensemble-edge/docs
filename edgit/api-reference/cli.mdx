---
title: "CLI Reference"
description: "Complete command-line interface documentation for Edgit"
---

> **Product**: Edgit
> **Version**: v1.0.0
> **Last Updated**: 2025-11-01

## Global Commands

### `edgit --version`

Display the current version of Edgit.

```bash
edgit --version
# Output: edgit v1.0.0
```

### `edgit --help`

Show general help information.

```bash
edgit --help
```

## Initialization

### `edgit init`

Initialize Edgit in a Git repository.

```bash
edgit init
```

**What it does**:
1. Creates `.edgit/` directory
2. Creates `components.json` registry
3. Sets up initial structure

**Requirements**:
- Must be in a Git repository
- Must have write permissions

**Example**:
```bash
cd my-project
git init
edgit init
# Output: ✅ Edgit initialized in /path/to/my-project
```

## Component Management

### `edgit add <type> <name> <path>`

Register a new component in the registry.

```bash
edgit add <type> <name> <path> [options]
```

<ParamField path="type" type="string" required>
  Component type (`function`, `agent`, `config`, or custom)
</ParamField>

<ParamField path="name" type="string" required>
  Unique component name (alphanumeric, hyphens, underscores)
</ParamField>

<ParamField path="path" type="string" required>
  Relative path from repository root
</ParamField>

<ParamField path="--description" type="string">
  Human-readable description
</ParamField>

<ParamField path="--metadata" type="json">
  Custom metadata as JSON string
</ParamField>

**Examples**:

```bash
# Add function
edgit add function email-processor src/functions/email.ts \
  --description "Processes incoming emails"

# Add agent with metadata
edgit add agent support-bot src/agents/support.ts \
  --description "Customer support automation" \
  --metadata '{"model":"gpt-4","temperature":0.7}'

# Add config
edgit add config app-settings config/app.json

# Add custom type
edgit add workflow order-flow workflows/order.yaml
```

### `edgit components list`

List all registered components with version history and deployment indicators.

```bash
edgit components list [options]
```

<ParamField path="--format" type="string" default="table">
  Output format: `table`, `json`, `yaml`, `tree`
</ParamField>

<ParamField path="--type" type="string">
  Filter by component type (function, agent, prompt, sql, config)
</ParamField>

<ParamField path="--tags-only" type="boolean">
  Show only components with version tags
</ParamField>

<ParamField path="--tracked" type="boolean">
  Show only tracked components (in registry)
</ParamField>

<ParamField path="--untracked" type="boolean">
  Show only untracked components (detected but not registered)
</ParamField>

<ParamField path="--limit" type="number">
  Maximum number of versions to show per component
</ParamField>

**Examples**:

```bash
# List all components (table format, default)
edgit components list

# Visual tree with deployment indicators
edgit components list --format tree

# JSON output for scripting
edgit components list --format json

# Show only prompts
edgit components list --type prompt

# Find unregistered component files
edgit components list --untracked

# Show only components with versions
edgit components list --tags-only

# Limit version history
edgit components list --limit 5 --format tree

# Combine filters
edgit components list --type function --tracked --format json
```

**Table Output** (default):
```
Component         Type      Latest Version  Versions  Deployment
---------------------------------------------------------------
email-processor   function  v1.2.0          5         prod: v1.2.0
support-bot       agent     v2.1.0          12        prod: v2.0.0, staging: v2.1.0
app-settings      config    v1.0.0          1         (none)
```

**Tree Output** (with deployment indicators):
```
email-processor (function)
├── v1.2.0 [prod, staging]  ← Currently deployed
├── v1.1.0
├── v1.0.0
└── v0.9.0

support-bot (agent)
├── v2.1.0 [staging]
├── v2.0.0 [prod]
└── v1.5.0

app-settings (config)
└── v1.0.0
```

**JSON Output**:
```json
[
  {
    "name": "email-processor",
    "type": "function",
    "path": "src/functions/email.ts",
    "versions": ["v1.2.0", "v1.1.0", "v1.0.0"],
    "latestVersion": "v1.2.0",
    "deployments": {
      "prod": "v1.2.0",
      "staging": "v1.2.0"
    }
  }
]
```

### `edgit components show <name>`

Show detailed information about a component.

```bash
edgit components show <name> [options]
```

<ParamField path="name" type="string" required>
  Component name
</ParamField>

<ParamField path="--versions" type="boolean">
  Include version history
</ParamField>

<ParamField path="--deployments" type="boolean">
  Include deployment history
</ParamField>

**Example**:

```bash
edgit components show email-processor --versions --deployments
```

**Output**:
```
Component: email-processor (function)
Path: src/functions/email.ts
Description: Processes incoming emails

Versions:
  v1.2.0 (2025-11-01) - feat: add retry logic
  v1.1.0 (2025-10-15) - feat: add error handling
  v1.0.0 (2025-10-01) - Initial release

Deployments:
  production: v1.2.0 (deployed 2025-11-01 14:30:00)
  staging: v1.2.0 (deployed 2025-11-01 10:00:00)

Dependencies:
  - queue-manager (v2.0.0)
  - logger (v1.5.0)
```

### `edgit components remove <name>`

Remove a component from the registry.

```bash
edgit components remove <name> [options]
```

<ParamField path="name" type="string" required>
  Component name
</ParamField>

<ParamField path="--force" type="boolean">
  Skip confirmation prompt
</ParamField>

<ParamField path="--delete-tags" type="boolean">
  Also delete all Git tags for this component
</ParamField>

**Example**:

```bash
# With confirmation
edgit components remove old-function

# Force removal
edgit components remove old-function --force

# Remove component and all tags
edgit components remove old-function --force --delete-tags
```

## Versioning

### `edgit tag <component> <version>`

Create a version tag for a component.

```bash
edgit tag <component> <version> [options]
```

<ParamField path="component" type="string" required>
  Component name
</ParamField>

<ParamField path="version" type="string" required>
  Semantic version (vX.Y.Z format)
</ParamField>

<ParamField path="--message" type="string">
  Tag annotation message
</ParamField>

<ParamField path="--force" type="boolean">
  Overwrite existing tag (dangerous!)
</ParamField>

**Examples**:

```bash
# Create version tag
edgit tag email-processor v1.0.0

# With custom message
edgit tag email-processor v1.0.0 --message "Stable release"

# Overwrite existing (not recommended)
edgit tag email-processor v1.0.0 --force
```

**What it does**:
1. Creates Git tag: `<component>-v<version>`
2. Annotates with commit message
3. Records in component history

### `edgit tag list <component>`

List all version tags for a component.

```bash
edgit tag list <component> [options]
```

<ParamField path="component" type="string" required>
  Component name
</ParamField>

<ParamField path="--format" type="string" default="table">
  Output format: `table`, `json`, `list`
</ParamField>

**Example**:

```bash
edgit tag list email-processor
```

**Output**:
```
Version   Date                 Commit
v1.2.0    2025-11-01 10:00     abc1234 feat: add retry logic
v1.1.0    2025-10-15 14:30     def5678 feat: error handling
v1.0.0    2025-10-01 09:00     ghi9012 Initial release
```

### `edgit tag delete <component> <version>`

Delete a version tag.

```bash
edgit tag delete <component> <version> [options]
```

<ParamField path="component" type="string" required>
  Component name
</ParamField>

<ParamField path="version" type="string" required>
  Version to delete
</ParamField>

<ParamField path="--remote" type="boolean">
  Also delete from remote repository
</ParamField>

**Example**:

```bash
# Delete local tag
edgit tag delete email-processor v1.0.0

# Delete local and remote
edgit tag delete email-processor v1.0.0 --remote
```

**Warning**: Deleting published tags is not recommended.

## Commits

### `edgit commit`

Commit with AI-powered message generation or pass through to git.

```bash
edgit commit [git-options]
```

**All standard git commit options are supported**:

<ParamField path="-m, --message" type="string">
  Manual commit message (disables AI)
</ParamField>

<ParamField path="-a, --all" type="boolean">
  Stage all modified files
</ParamField>

<ParamField path="--amend" type="boolean">
  Amend previous commit
</ParamField>

**Examples**:

```bash
# AI-generated message
git add src/email.ts
edgit commit
# Output: ✅ Committed: "feat(email-processor): add retry logic"

# Manual message
edgit commit -m "fix: update email validation"

# Stage all and commit with AI
edgit commit -a

# Amend with AI message
edgit commit --amend --no-edit
```

**AI Behavior**:
- Analyzes staged file changes
- Detects changed components
- Generates conventional commit format
- Falls back to git commit if AI unavailable
- Uses existing message if `-m` provided

## Component Discovery

### `edgit discover scan`

Scan the repository for potential components that can be managed by Edgit.

```bash
edgit discover scan [options]
```

<ParamField path="--type" type="string">
  Filter by component type (prompt, agent, sql, config)
</ParamField>

<ParamField path="--pattern" type="string">
  Scan files matching specific glob pattern
</ParamField>

<ParamField path="--tracked-only" type="boolean">
  Only scan git-tracked files (exclude untracked)
</ParamField>

<ParamField path="--with-headers" type="boolean">
  Only show files with version headers
</ParamField>

<ParamField path="--output" type="string" default="table">
  Output format: `table`, `json`, `simple`
</ParamField>

**Examples**:

```bash
# Scan all files (tracked and untracked)
edgit discover scan

# Find only prompt components
edgit discover scan --type prompt

# Scan specific file pattern
edgit discover scan --pattern "*.md"
edgit discover scan --pattern "scripts/**/*.py"

# Only git-tracked files
edgit discover scan --tracked-only

# JSON output for scripting
edgit discover scan --output json
```

**Output**:
```
File                          Type    Confidence  Status        Suggested Name
-----------------------------------------------------------------------------
prompts/extraction.md         prompt  high        untracked     extraction-prompt
agents/support.ts             agent   high        registered    support-agent
queries/company.sql           sql     medium      untracked     company-query
```

### `edgit discover detect <file>`

Analyze a specific file to detect what type of component it is.

```bash
edgit discover detect <file>
```

<ParamField path="file" type="string" required>
  Path to file to analyze
</ParamField>

**Example**:

```bash
edgit discover detect prompts/new-prompt.md
```

**Output**:
```
File: prompts/new-prompt.md
Type: prompt
Confidence: high
Registered: no
Suggested name: new-prompt

Matched patterns:
  - prompts/**/*
  - *.md in prompts directory

Next steps:
  edgit init  # Register this component
```

### `edgit discover patterns`

Manage component detection patterns.

```bash
edgit discover patterns <action> [options]
```

**Actions**:
- `list` - Show all detection patterns
- `add <type> <pattern>` - Add custom pattern
- `remove <type> <pattern>` - Remove pattern

**Examples**:

```bash
# List all patterns
edgit discover patterns list

# Add custom prompt pattern
edgit discover patterns add prompt "*.prompt.txt"

# Add custom agent pattern
edgit discover patterns add agent "workers/**/*.ts"

# Remove pattern
edgit discover patterns remove prompt "*.old.md"
```

**Output**:
```
Component Detection Patterns:

prompt:
  - prompts/**/*
  - *.prompt.md
  - instructions/**/*
  - templates/**/*

agent:
  - agents/**/*
  - scripts/**/*.{js,ts,py,sh,bash}
  - *.agent.*

sql:
  - queries/**/*
  - sql/**/*
  - *.sql
  - *.query.*

config:
  - configs/**/*
  - *.config.*
  - *.{yaml,yml,json,toml,ini}
```

## Deployment

### `edgit deploy <component> <version>`

Mark a component version as deployed to an environment.

```bash
edgit deploy <component> <version> --to <environment> [options]
```

<ParamField path="component" type="string" required>
  Component name
</ParamField>

<ParamField path="version" type="string" required>
  Version to deploy (must exist as tag)
</ParamField>

<ParamField path="--to" type="string" required>
  Target environment name
</ParamField>

<ParamField path="--metadata" type="json">
  Custom deployment metadata
</ParamField>

**Examples**:

```bash
# Mark as deployed
edgit deploy email-processor v1.2.0 --to production

# With metadata
edgit deploy email-processor v1.2.0 --to production \
  --metadata '{"deployer":"john","ticket":"PROJ-123"}'
```

**What it does**:
1. Verifies version tag exists
2. Records deployment metadata
3. Updates component deployment history

### `edgit deploy list [component]`

List deployment history.

```bash
edgit deploy list [component] [options]
```

<ParamField path="component" type="string">
  Filter by component (optional)
</ParamField>

<ParamField path="--environment" type="string">
  Filter by environment
</ParamField>

**Examples**:

```bash
# All deployments
edgit deploy list

# For specific component
edgit deploy list email-processor

# For specific environment
edgit deploy list --environment production
```

### `edgit status <component>`

Show current deployment status for a component.

```bash
edgit status <component>
```

<ParamField path="component" type="string" required>
  Component name
</ParamField>

**Example**:

```bash
edgit status email-processor
```

**Output**:
```
Component: email-processor (function)
Latest version: v1.2.0

Deployments:
  development: v1.3.0-beta (deployed 2025-11-01 16:00:00)
  staging: v1.2.0 (deployed 2025-11-01 10:00:00)
  production: v1.2.0 (deployed 2025-11-01 14:30:00)
```

## Global Options

These options work with all commands:

<ParamField path="--help, -h" type="boolean">
  Show help for any command

  ```bash
  edgit add --help
  edgit tag --help
  ```
</ParamField>

<ParamField path="--version, -v" type="boolean">
  Show version information

  ```bash
  edgit --version
  ```
</ParamField>

<ParamField path="--debug" type="boolean">
  Enable debug output

  ```bash
  edgit --debug commit
  ```
</ParamField>

<ParamField path="--quiet, -q" type="boolean">
  Suppress non-error output

  ```bash
  edgit --quiet components list
  ```
</ParamField>

## Exit Codes

Edgit uses standard exit codes:

| Code | Meaning |
|------|---------|
| 0    | Success |
| 1    | General error |
| 2    | Usage error (invalid arguments) |
| 3    | Not a Git repository |
| 4    | Not initialized (run `edgit init`) |
| 5    | Component not found |
| 6    | Version already exists |
| 7    | AI error (API key invalid or service unavailable) |

## Environment Variables

See [Configuration](/edgit/configuration) for complete environment variable documentation.

Quick reference:

```bash
OPENAI_API_KEY=sk-...      # Required for AI features
EDGIT_DEBUG=true           # Enable debug mode
EDGIT_DIR=.edgit           # Custom directory name
```

## Examples

### Complete Workflow

```bash
# 1. Initialize
git init
edgit init

# 2. Add component
edgit add function api src/api.ts --description "API handler"

# 3. Commit changes
git add .
edgit commit  # AI: "feat(api): add API handler function"

# 4. Create version
edgit tag api v1.0.0

# 5. Push to remote
git push origin main --tags

# 6. Deploy to staging
edgit deploy api v1.0.0 --to staging

# 7. Deploy to production
edgit deploy api v1.0.0 --to production

# 8. Check status
edgit status api
```

### Batch Operations

```bash
# Add multiple components
for file in src/functions/*.ts; do
  name=$(basename "$file" .ts)
  edgit add function "$name" "$file"
done

# List all versions for all components
edgit components list --format json | \
  jq -r '.[] | .name' | \
  xargs -I {} edgit tag list {}

# Deploy all to staging
edgit tag list --all | \
  xargs -I {} edgit deploy {} --to staging
```

## Next Steps

<CardGroup cols={2}>
  <Card
    title="Configuration"
    icon="gear"
    href="/edgit/configuration"
  >
    Environment variables and settings
  </Card>

  <Card
    title="Examples"
    icon="code"
    href="/edgit/examples/basic-workflow"
  >
    Real-world usage patterns
  </Card>

  <Card
    title="Guides"
    icon="book"
    href="/edgit/guides/component-types"
  >
    In-depth feature documentation
  </Card>

  <Card
    title="Troubleshooting"
    icon="wrench"
    href="/edgit/guides/troubleshooting"
  >
    Common issues and solutions
  </Card>
</CardGroup>
